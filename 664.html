<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guess the Sequence</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      text-align: center; 
      background-color: #f3e5f5; 
    }
    #logo { 
      font-size: 40px; 
      font-weight: bold; 
      font-style: italic; 
      color: purple; 
      margin-bottom: 20px; 
      font-family: 'Brush Script MT', cursive;
    }
    .color-btn { 
      width: 90px; 
      height: 90px; 
      margin: 5px; 
      border: 3px solid black; 
      cursor: pointer; 
      border-radius: 12px; 
      background-color: white; 
    }
    .color-btn:hover { 
      transform: scale(1.1); 
    }
    #selected-sequence { 
      margin-top: 10px; 
      font-weight: bold; 
      display: flex; 
      justify-content: center; 
      gap: 10px; 
      align-items: center;
    }
    .color-circle { 
      width: 30px; 
      height: 30px; 
      border-radius: 50%; 
      border: 3px solid black; 
      display: inline-block; 
    }
    .action-btn { 
      font-size: 18px; 
      padding: 10px 20px; 
      margin: 10px; 
      border: 3px solid black; 
      border-radius: 8px; 
      cursor: pointer; 
      color: purple; 
      background-color: white; 
      font-weight: bold; 
    }
    .action-btn:hover { 
      transform: scale(1.1); 
      background-color: lightgray; 
    }
    #language-container { 
      margin-bottom: 20px; 
      font-size: 18px; 
      font-weight: bold; 
      color: purple;
    }
    #storyline {
      margin-top: 20px;
      font-size: 16px;
      color: purple;
      text-align: center;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    #storyline div {
      margin-bottom: 10px;
    }

    /* Media query per dispositivi mobili */
    @media (max-width: 600px) {
      .color-btn {
        width: 60px; 
        height: 60px; 
        margin: 3px;
      }
      .color-circle {
        width: 20px;
        height: 20px;
      }
      .action-btn {
        font-size: 14px;
        padding: 8px 15px;
      }
      #logo {
        font-size: 30px;
      }
    }
  </style>
</head>
<body>
  <div id="logo">ALVR</div>
  <h1 id="title">Indovina la Sequenza</h1>
  <div id="language-container">
    <label id="language-label" for="language">Scegli la lingua:</label>
    <select id="language" onchange="updateLanguage()">
      <option value="1">Italiano</option>
      <option value="2">English</option>
    </select>
  </div>
  <p id="instructions">Seleziona 4 colori e prova a indovinare la sequenza segreta!</p>
  
  <div>
    <button class="color-btn" onclick="selectColor('Rosso')" style="background-color: red;"></button>
    <button class="color-btn" onclick="selectColor('Giallo')" style="background-color: yellow;"></button>
    <button class="color-btn" onclick="selectColor('Verde')" style="background-color: green;"></button>
    <button class="color-btn" onclick="selectColor('Marrone Chiaro')" style="background-color: burlywood;"></button>
    <button class="color-btn" onclick="selectColor('Nero')" style="background-color: black;"></button>
    <button class="color-btn" onclick="selectColor('Bianco')" style="background-color: white;"></button>
  </div>
  
  <div id="selected-sequence-label">Sequenza scelta:</div>
  <div id="selected-sequence"></div>
  
  <button class="action-btn" onclick="submitGuess()" id="submit-btn">Tenta</button>
  <button class="action-btn" onclick="resetGame()" id="generate-btn">Genera Sequenza</button>
  <button class="action-btn" onclick="clearSelection()" id="clear-btn">Cancella</button>
  
  <p id="feedback"></p>
  <div id="storyline"></div>
  
  <script>
    function updateLanguage() {
      const lang = document.getElementById("language").value;
      document.getElementById("language-label").innerText = lang === "1" ? "Scegli la lingua:" : "Choose language:";
      document.getElementById("title").innerText = lang === "1" ? "Indovina la Sequenza" : "Guess the Sequence";
      document.getElementById("instructions").innerText = lang === "1" ? "Seleziona 4 colori e prova a indovinare la sequenza segreta!" : "Select 4 colors and try to guess the secret sequence!";
      document.getElementById("submit-btn").innerText = lang === "1" ? "Tenta" : "Try";
      document.getElementById("generate-btn").innerText = lang === "1" ? "Genera Sequenza" : "Generate Sequence";
      document.getElementById("clear-btn").innerText = lang === "1" ? "Cancella" : "Delete";
      document.getElementById("selected-sequence-label").innerText = lang === "1" ? "Sequenza scelta:" : "Selected sequence:";
    }
    
    function selectColor(color) {
      if (document.getElementById("selected-sequence").children.length < 4) {
        const circle = document.createElement("div");
        circle.classList.add("color-circle");
        circle.style.backgroundColor = color;
        document.getElementById("selected-sequence").appendChild(circle);
      }
    }
    
    function submitGuess() {
      const guess = document.getElementById("selected-sequence").children;
      if (guess.length !== 4) {
        alert(document.getElementById("language").value === "1" ? "Seleziona 4 colori prima di inviare!" : "Select 4 colors before submitting!");
        return;
      }
      const storyDiv = document.createElement("div");
      const attemptContainer = document.createElement("div");
      attemptContainer.style.display = "flex";
      attemptContainer.style.justifyContent = "center";
      attemptContainer.style.gap = "5px";
      
      for (let i = 0; i < guess.length; i++) {
        const colorClone = guess[i].cloneNode();
        attemptContainer.appendChild(colorClone);
      }
      
      storyDiv.appendChild(attemptContainer);
      document.getElementById("storyline").appendChild(storyDiv);
      document.getElementById("selected-sequence").innerHTML = "";
    }
    
    function clearSelection() {
      document.getElementById("selected-sequence").innerHTML = "";
    }
    
    function resetGame() {
      document.getElementById("storyline").innerHTML = "";
      document.getElementById("selected-sequence").innerHTML = "";
    }
  </script>
</body>
</html>
